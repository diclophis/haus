<html>
  <head>
    <style>
			.hide-scroll {
				overflow: hidden;
			}

      .timeline-container {
				position: absolute;
				height: 100%;
				top: 0;
				bottom: 0;
				width: auto;
				left: 0;
				right: 0;
				overflow: auto;
				background-color: blue;
				padding-bottom: 10%;
      }

			.cursor {
				position: absolute;
				left: 0%;
				top: 0%;
				width: 10em;
				height: 100%;
				background-color: purple;
			}

      .timeline {
        position: absolute;
        left: 0;
        top: 0;
        width: 100%;
        height: 40%;
				background-color: red;
      }
    </style>
  </head>
  <body>
		<div class="hide-scroll">
			<div class="timeline-container">
				<div class="timeline">
					<div class="cursor">
					</div>
					<div class="cursor">
					</div>
					<div class="cursor">
					</div>
					<div class="cursor">
					</div>
					<div class="cursor">
					</div>
					<div class="cursor">
					</div>
					<div class="cursor">
					</div>
					<div class="cursor">
					</div>
					<div class="cursor">
					</div>
					<div class="cursor">
					</div>
					<div class="cursor">
					</div>
					<div class="cursor">
					</div>
					<div class="cursor">
					</div>
					<div class="cursor">
					</div>
					<div class="cursor">
					</div>
					<div class="cursor">
					</div>
					<div class="cursor">
					</div>
				</div>
			</div>
		</div>
    <script>
      var timelineContainer = document.getElementsByClassName("timeline-container")[0];
      var timeline = document.getElementsByClassName("timeline")[0];
      var cursors = document.getElementsByClassName("cursor");
			var cursorsCount = cursors.length;

			var cW = timelineContainer.offsetWidth;
			var cH = timelineContainer.offsetHeight;
			var iW = cursors[0].offsetWidth;
			var iH = cursors[0].offsetHeight;
			var halfcW = (cW * 1.5);

  		timeline.style.width = cW * 10;

      timelineContainer.addEventListener('scroll', function(ev) {
				var increased = (timelineContainer.scrollLeft > (timeline.offsetWidth - (halfcW)));
				var decreased = (timelineContainer.scrollLeft < (timeline.offsetWidth - (halfcW * 0.25)));
        //console.log(timelineContainer.scrollLeft, timeline.offsetWidth, timeline.offsetWidth - (cW * 1.5), increased);

				for (var i=0; i<cursorsCount; i++) {
					var nl = ((Math.floor(timelineContainer.scrollLeft / iW) + (i - 2)) * iW);
					cursors[i].style.left = nl;
					cursors[i].innerText = (nl / iW);
				}

				if (increased) {
					timeline.style.width = timeline.offsetWidth + (halfcW);
				}

				if (decreased) {
					timeline.style.width = timeline.offsetWidth - (halfcW);
				}
      });
    </script>
  </body>
</html>
